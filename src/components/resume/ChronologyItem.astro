---
import H4 from "./H4.astro";
import Sub from "./Sub.astro";
import P from "./P.astro";

interface Props {
    dates?: string,
}

const { dates } = Astro.props;
---
<li class="flex flex-col w-full">
    <span class="relative block rounded-[50%] w-1.5 h-1.5 bg-neutral-500 top-[1.3rem] left-[-0.65rem] -mb-3"></span>
    <div class="chronology-item relative flex pt-3.5 pb-0 pl-1">
        <div>
            <div class="flex" aria-hidden="true"></div>
        </div>
        <div class="flex flex-col w-full self-center">
            <div class="flex flex-row justify-between">
                <div class="flex flex-col w-full item">
                    <div class="pb-0">
                        <H4>
                            <slot name="label" />
                        </H4>
                    </div>
                    {
                        (() => {
                            if (typeof dates !== 'undefined') {
                                return <div class="pt-1 pb-1 pl-4 text-neutral-600 text-base/[0px] items-start">
                                    <Sub>
                                        { dates }
                                    </Sub>
                                </div>
                            }
                        })()
                    }
                </div>
            </div>
            <div class="pt-3">
                <P>
                    <slot name="description" />
                </P>
            </div>
        </div>
    </div>
</li>

<style>
    @reference "../../styles/global.css";

    li:not(:last-child) .chronology-item {
        @apply before:absolute before:-left-2 before:top-[2.8rem] before:h-[calc(100%-2.4rem)] before:w-0.5 before:bg-neutral-400;
    }
</style>